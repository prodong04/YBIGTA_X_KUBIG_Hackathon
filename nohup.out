INFO:     Will watch for changes in these directories: ['/home/dongryeol/YBIGTA_X_KUBIG_Hackathon']
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [2974017] using StatReload
INFO:     Started server process [2974019]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [2974019]
INFO:     Stopping reloader process [2974017]
/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/multiprocessing/resource_tracker.py:224: UserWarning: resource_tracker: There appear to be 1 leaked semaphore objects to clean up at shutdown
  warnings.warn('resource_tracker: There appear to be %d '
INFO:     Will watch for changes in these directories: ['/home/dongryeol/YBIGTA_X_KUBIG_Hackathon']
INFO:     Uvicorn running on http://127.0.0.1:3578 (Press CTRL+C to quit)
INFO:     Started reloader process [2976266] using StatReload
INFO:     Started server process [2976269]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  Invalid HTTP request received.
INFO:     127.0.0.1:42896 - "GET /query/how%20can%20i%20be%20happy HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:42900 - "GET /query/how%20can%20i%20be%20happy HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:42912 - "GET /query/how%20can%20i%20be%20happy HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:42928 - "GET /query/how%20can%20i%20be%20happy HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:42938 - "GET /query/how%20can%20i%20be%20happy HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:42950 - "GET /query/how%20can%20i%20be%20happy HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:42956 - "GET /query/how%20can%20i%20be%20happy HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:42958 - "GET /query/how%20can%20i%20be%20happy HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:53648 - "GET /query/how%20can%20i%20be%20happy HTTP/1.1" 404 Not Found
WARNING:  StatReload detected changes in 'main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [2976269]
INFO:     Started server process [2979643]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:35056 - "GET /query/how%20can%20i%20be%20happy HTTP/1.1" 404 Not Found
WARNING:  StatReload detected changes in 'main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [2979643]
WARNING:  StatReload detected changes in 'main.py'. Reloading...
INFO:     Started server process [2980203]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'main.py'. Reloading...
Process SpawnProcess-4:
Traceback (most recent call last):
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/uvicorn/server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/uvicorn/server.py", line 69, in serve
    await self._serve(sockets)
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/uvicorn/server.py", line 76, in _serve
    config.load()
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/uvicorn/config.py", line 434, in load
    self.loaded_app = import_from_string(self.app)
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1050, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1027, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1006, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 688, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 883, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/home/dongryeol/YBIGTA_X_KUBIG_Hackathon/main.py", line 15, in <module>
    async def get_answer(query):
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/fastapi/routing.py", line 994, in decorator
    self.add_api_route(
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/fastapi/routing.py", line 933, in add_api_route
    route = route_class(
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/fastapi/routing.py", line 554, in __init__
    self.dependant = get_dependant(path=self.path_format, call=self.endpoint)
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/fastapi/dependencies/utils.py", line 277, in get_dependant
    param_details = analyze_param(
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/fastapi/dependencies/utils.py", line 489, in analyze_param
    assert is_scalar_field(
AssertionError: Path params must be of one of the supported types
INFO:     Started server process [2980969]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [2980969]
WARNING:  StatReload detected changes in 'main.py'. Reloading...
INFO:     Started server process [2981357]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Started server process [2981668]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [2981668]
INFO:     Started server process [2982201]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:34858 - "GET /query/how%20can%20i%20be%20happy HTTP/1.1" 404 Not Found
WARNING:  StatReload detected changes in 'main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [2982201]
INFO:     Started server process [2983134]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [2983134]
INFO:     Started server process [2983510]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:40506 - "GET /query/how%20can%20i%20be%20happy HTTP/1.1" 404 Not Found
WARNING:  StatReload detected changes in 'main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [2983510]
INFO:     Started server process [2984606]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
ERROR:root:Question: how can i be happy
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:None for open-end generation.
The attention mask is not set and cannot be inferred from input because pad token is same as eos token. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
['A distinction can be made between emotional episodes and emotional dispositions. Emotional dispositions are also comparable to character traits, where someone may be said to be generally disposed to experience certain emotions. For example, an irritable person is generally disposed to feel irritation more easily or quickly than others do. Finally, some theorists place emotions within a more general category of "affective states" where affective states can also include emotion-related phenomena such as pleasure and pain, motivational states (for example, hunger or curiosity), moods, dispositions and traits.', "A common way in which emotions are conceptualized in sociology is in terms of the multidimensional characteristics including cultural or emotional labels (e.g., anger, pride, fear, happiness), physiological changes (e.g., increased perspiration, changes in pulse rate), expressive facial and body movements (e.g., smiling, frowning, baring teeth), and appraisals of situational cues. One comprehensive theory of emotional arousal in humans has been developed by Jonathan Turner (2007: 2009). Two of the key eliciting factors for the arousal of emotions within this theory are expectations states and sanctions. When people enter a situation or encounter with certain expectations for how the encounter should unfold, they will experience different emotions depending on the extent to which expectations for Self, other and situation are met or not met. People can also provide positive or negative sanctions directed at Self or other which also trigger different emotional experiences in individuals. Turner analyzed a wide range of emotion theories across different fields of research including sociology, psychology, evolutionary science, and neuroscience. Based on this analysis, he identified four emotions that all researchers consider being founded on human neurology including assertive-anger, aversion-fear, satisfaction-happiness, and disappointment-sadness. These four categories are called primary emotions and there is some agreement amongst researchers that these primary emotions become combined to produce more elaborate and complex emotional experiences. These more elaborate emotions are called first-order elaborations in Turner's theory and they include sentiments such as pride, triumph, and awe. Emotions can also be experienced at different levels of intensity so that feelings of concern are a low-intensity variation of the primary emotion aversion-fear whereas depression is a higher intensity variant.", 'Work is undertaken from an early age by vast numbers of children in the world and may have a natural place in growing up. Work can contribute to the well-being of children in a variety of ways; children often choose to work to improve their lives, both in the short- and long-term. At the material level, children’s work often contributes to producing food or earning income that benefits themselves and their families; and such income is especially important when the families are poor. Work can provide an escape from debilitating poverty, sometimes by allowing a young person to move away from an impoverished environment. Young people often enjoy their work, especially paid work, or when work involves the company of peers. Even when work is intensive and enforced, children often find ways to combine their work with play.', "Many different disciplines have produced work on the emotions. Human sciences study the role of emotions in mental processes, disorders, and neural mechanisms. In psychiatry, emotions are examined as part of the discipline's study and treatment of mental disorders in humans. Nursing studies emotions as part of its approach to the provision of holistic health care to humans. Psychology examines emotions from a scientific perspective by treating them as mental processes and behavior and they explore the underlying physiological and neurological processes. In neuroscience sub-fields such as social neuroscience and affective neuroscience, scientists study the neural mechanisms of emotion by combining neuroscience with the psychological study of personality, emotion, and mood. In linguistics, the expression of emotion may change to the meaning of sounds. In education, the role of emotions in relation to learning is examined.", "Based on discoveries made through neural mapping of the limbic system, the neurobiological explanation of human emotion is that emotion is a pleasant or unpleasant mental state organized in the limbic system of the mammalian brain. If distinguished from reactive responses of reptiles, emotions would then be mammalian elaborations of general vertebrate arousal patterns, in which neurochemicals (for example, dopamine, noradrenaline, and serotonin) step-up or step-down the brain's activity level, as visible in body movements, gestures and postures. Emotions can likely be mediated by pheromones (see fear)."]
INFO:     127.0.0.1:37796 - "GET /query?question=how%20can%20i%20be%20happy HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/uvicorn/protocols/http/h11_impl.py", line 406, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/starlette/_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/starlette/_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
  File "/home/dongryeol/YBIGTA_X_KUBIG_Hackathon/main.py", line 17, in get_answer
    answer = generator.generate(prompt)
  File "/home/dongryeol/YBIGTA_X_KUBIG_Hackathon/llm.py", line 11, in generate
    outputs = self.model.generate(inputs, max_length=max_length, num_beams=5, no_repeat_ngram_size=2, early_stopping=True)
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/torch/utils/_contextlib.py", line 116, in decorate_context
    return func(*args, **kwargs)
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/transformers/generation/utils.py", line 1905, in generate
    self._validate_generated_length(generation_config, input_ids_length, has_default_max_length)
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/transformers/generation/utils.py", line 1228, in _validate_generated_length
    raise ValueError(
ValueError: Input length of input_ids is 908, but `max_length` is set to 50. This can lead to unexpected behavior. You should consider increasing `max_length` or, better yet, setting `max_new_tokens`.
ERROR:root:Question: how can i be happy
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:None for open-end generation.
['A distinction can be made between emotional episodes and emotional dispositions. Emotional dispositions are also comparable to character traits, where someone may be said to be generally disposed to experience certain emotions. For example, an irritable person is generally disposed to feel irritation more easily or quickly than others do. Finally, some theorists place emotions within a more general category of "affective states" where affective states can also include emotion-related phenomena such as pleasure and pain, motivational states (for example, hunger or curiosity), moods, dispositions and traits.', "A common way in which emotions are conceptualized in sociology is in terms of the multidimensional characteristics including cultural or emotional labels (e.g., anger, pride, fear, happiness), physiological changes (e.g., increased perspiration, changes in pulse rate), expressive facial and body movements (e.g., smiling, frowning, baring teeth), and appraisals of situational cues. One comprehensive theory of emotional arousal in humans has been developed by Jonathan Turner (2007: 2009). Two of the key eliciting factors for the arousal of emotions within this theory are expectations states and sanctions. When people enter a situation or encounter with certain expectations for how the encounter should unfold, they will experience different emotions depending on the extent to which expectations for Self, other and situation are met or not met. People can also provide positive or negative sanctions directed at Self or other which also trigger different emotional experiences in individuals. Turner analyzed a wide range of emotion theories across different fields of research including sociology, psychology, evolutionary science, and neuroscience. Based on this analysis, he identified four emotions that all researchers consider being founded on human neurology including assertive-anger, aversion-fear, satisfaction-happiness, and disappointment-sadness. These four categories are called primary emotions and there is some agreement amongst researchers that these primary emotions become combined to produce more elaborate and complex emotional experiences. These more elaborate emotions are called first-order elaborations in Turner's theory and they include sentiments such as pride, triumph, and awe. Emotions can also be experienced at different levels of intensity so that feelings of concern are a low-intensity variation of the primary emotion aversion-fear whereas depression is a higher intensity variant.", 'Work is undertaken from an early age by vast numbers of children in the world and may have a natural place in growing up. Work can contribute to the well-being of children in a variety of ways; children often choose to work to improve their lives, both in the short- and long-term. At the material level, children’s work often contributes to producing food or earning income that benefits themselves and their families; and such income is especially important when the families are poor. Work can provide an escape from debilitating poverty, sometimes by allowing a young person to move away from an impoverished environment. Young people often enjoy their work, especially paid work, or when work involves the company of peers. Even when work is intensive and enforced, children often find ways to combine their work with play.', "Many different disciplines have produced work on the emotions. Human sciences study the role of emotions in mental processes, disorders, and neural mechanisms. In psychiatry, emotions are examined as part of the discipline's study and treatment of mental disorders in humans. Nursing studies emotions as part of its approach to the provision of holistic health care to humans. Psychology examines emotions from a scientific perspective by treating them as mental processes and behavior and they explore the underlying physiological and neurological processes. In neuroscience sub-fields such as social neuroscience and affective neuroscience, scientists study the neural mechanisms of emotion by combining neuroscience with the psychological study of personality, emotion, and mood. In linguistics, the expression of emotion may change to the meaning of sounds. In education, the role of emotions in relation to learning is examined.", "Based on discoveries made through neural mapping of the limbic system, the neurobiological explanation of human emotion is that emotion is a pleasant or unpleasant mental state organized in the limbic system of the mammalian brain. If distinguished from reactive responses of reptiles, emotions would then be mammalian elaborations of general vertebrate arousal patterns, in which neurochemicals (for example, dopamine, noradrenaline, and serotonin) step-up or step-down the brain's activity level, as visible in body movements, gestures and postures. Emotions can likely be mediated by pheromones (see fear)."]
INFO:     127.0.0.1:37810 - "GET /query?question=how%20can%20i%20be%20happy HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/uvicorn/protocols/http/h11_impl.py", line 406, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/starlette/_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/starlette/_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
  File "/home/dongryeol/YBIGTA_X_KUBIG_Hackathon/main.py", line 17, in get_answer
    answer = generator.generate(prompt)
  File "/home/dongryeol/YBIGTA_X_KUBIG_Hackathon/llm.py", line 11, in generate
    outputs = self.model.generate(inputs, max_length=max_length, num_beams=5, no_repeat_ngram_size=2, early_stopping=True)
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/torch/utils/_contextlib.py", line 116, in decorate_context
    return func(*args, **kwargs)
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/transformers/generation/utils.py", line 1905, in generate
    self._validate_generated_length(generation_config, input_ids_length, has_default_max_length)
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/transformers/generation/utils.py", line 1228, in _validate_generated_length
    raise ValueError(
ValueError: Input length of input_ids is 908, but `max_length` is set to 50. This can lead to unexpected behavior. You should consider increasing `max_length` or, better yet, setting `max_new_tokens`.
WARNING:  StatReload detected changes in 'llm.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [2984606]
INFO:     Started server process [2985962]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
ERROR:root:Question: how can i be happy
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:None for open-end generation.
The attention mask is not set and cannot be inferred from input because pad token is same as eos token. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
['A distinction can be made between emotional episodes and emotional dispositions. Emotional dispositions are also comparable to character traits, where someone may be said to be generally disposed to experience certain emotions. For example, an irritable person is generally disposed to feel irritation more easily or quickly than others do. Finally, some theorists place emotions within a more general category of "affective states" where affective states can also include emotion-related phenomena such as pleasure and pain, motivational states (for example, hunger or curiosity), moods, dispositions and traits.', "A common way in which emotions are conceptualized in sociology is in terms of the multidimensional characteristics including cultural or emotional labels (e.g., anger, pride, fear, happiness), physiological changes (e.g., increased perspiration, changes in pulse rate), expressive facial and body movements (e.g., smiling, frowning, baring teeth), and appraisals of situational cues. One comprehensive theory of emotional arousal in humans has been developed by Jonathan Turner (2007: 2009). Two of the key eliciting factors for the arousal of emotions within this theory are expectations states and sanctions. When people enter a situation or encounter with certain expectations for how the encounter should unfold, they will experience different emotions depending on the extent to which expectations for Self, other and situation are met or not met. People can also provide positive or negative sanctions directed at Self or other which also trigger different emotional experiences in individuals. Turner analyzed a wide range of emotion theories across different fields of research including sociology, psychology, evolutionary science, and neuroscience. Based on this analysis, he identified four emotions that all researchers consider being founded on human neurology including assertive-anger, aversion-fear, satisfaction-happiness, and disappointment-sadness. These four categories are called primary emotions and there is some agreement amongst researchers that these primary emotions become combined to produce more elaborate and complex emotional experiences. These more elaborate emotions are called first-order elaborations in Turner's theory and they include sentiments such as pride, triumph, and awe. Emotions can also be experienced at different levels of intensity so that feelings of concern are a low-intensity variation of the primary emotion aversion-fear whereas depression is a higher intensity variant.", 'Work is undertaken from an early age by vast numbers of children in the world and may have a natural place in growing up. Work can contribute to the well-being of children in a variety of ways; children often choose to work to improve their lives, both in the short- and long-term. At the material level, children’s work often contributes to producing food or earning income that benefits themselves and their families; and such income is especially important when the families are poor. Work can provide an escape from debilitating poverty, sometimes by allowing a young person to move away from an impoverished environment. Young people often enjoy their work, especially paid work, or when work involves the company of peers. Even when work is intensive and enforced, children often find ways to combine their work with play.', "Many different disciplines have produced work on the emotions. Human sciences study the role of emotions in mental processes, disorders, and neural mechanisms. In psychiatry, emotions are examined as part of the discipline's study and treatment of mental disorders in humans. Nursing studies emotions as part of its approach to the provision of holistic health care to humans. Psychology examines emotions from a scientific perspective by treating them as mental processes and behavior and they explore the underlying physiological and neurological processes. In neuroscience sub-fields such as social neuroscience and affective neuroscience, scientists study the neural mechanisms of emotion by combining neuroscience with the psychological study of personality, emotion, and mood. In linguistics, the expression of emotion may change to the meaning of sounds. In education, the role of emotions in relation to learning is examined.", "Based on discoveries made through neural mapping of the limbic system, the neurobiological explanation of human emotion is that emotion is a pleasant or unpleasant mental state organized in the limbic system of the mammalian brain. If distinguished from reactive responses of reptiles, emotions would then be mammalian elaborations of general vertebrate arousal patterns, in which neurochemicals (for example, dopamine, noradrenaline, and serotonin) step-up or step-down the brain's activity level, as visible in body movements, gestures and postures. Emotions can likely be mediated by pheromones (see fear)."]
INFO:     127.0.0.1:48106 - "GET /query?question=how%20can%20i%20be%20happy HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/uvicorn/protocols/http/h11_impl.py", line 406, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/starlette/_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/starlette/_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
  File "/home/dongryeol/YBIGTA_X_KUBIG_Hackathon/main.py", line 17, in get_answer
    answer = generator.generate(prompt)
  File "/home/dongryeol/YBIGTA_X_KUBIG_Hackathon/llm.py", line 11, in generate
    outputs = self.model.generate(inputs, max_length=max_length, num_beams=5, no_repeat_ngram_size=2, early_stopping=True)
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/torch/utils/_contextlib.py", line 116, in decorate_context
    return func(*args, **kwargs)
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/transformers/generation/utils.py", line 1905, in generate
    self._validate_generated_length(generation_config, input_ids_length, has_default_max_length)
  File "/home/dongryeol/miniconda3/envs/sf310/lib/python3.10/site-packages/transformers/generation/utils.py", line 1228, in _validate_generated_length
    raise ValueError(
ValueError: Input length of input_ids is 908, but `max_length` is set to 200. This can lead to unexpected behavior. You should consider increasing `max_length` or, better yet, setting `max_new_tokens`.
WARNING:  StatReload detected changes in 'llm.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [2985962]
INFO:     Started server process [2989173]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
ERROR:root:Question: how can i be happy
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:None for open-end generation.
The attention mask is not set and cannot be inferred from input because pad token is same as eos token. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
['A distinction can be made between emotional episodes and emotional dispositions. Emotional dispositions are also comparable to character traits, where someone may be said to be generally disposed to experience certain emotions. For example, an irritable person is generally disposed to feel irritation more easily or quickly than others do. Finally, some theorists place emotions within a more general category of "affective states" where affective states can also include emotion-related phenomena such as pleasure and pain, motivational states (for example, hunger or curiosity), moods, dispositions and traits.', "A common way in which emotions are conceptualized in sociology is in terms of the multidimensional characteristics including cultural or emotional labels (e.g., anger, pride, fear, happiness), physiological changes (e.g., increased perspiration, changes in pulse rate), expressive facial and body movements (e.g., smiling, frowning, baring teeth), and appraisals of situational cues. One comprehensive theory of emotional arousal in humans has been developed by Jonathan Turner (2007: 2009). Two of the key eliciting factors for the arousal of emotions within this theory are expectations states and sanctions. When people enter a situation or encounter with certain expectations for how the encounter should unfold, they will experience different emotions depending on the extent to which expectations for Self, other and situation are met or not met. People can also provide positive or negative sanctions directed at Self or other which also trigger different emotional experiences in individuals. Turner analyzed a wide range of emotion theories across different fields of research including sociology, psychology, evolutionary science, and neuroscience. Based on this analysis, he identified four emotions that all researchers consider being founded on human neurology including assertive-anger, aversion-fear, satisfaction-happiness, and disappointment-sadness. These four categories are called primary emotions and there is some agreement amongst researchers that these primary emotions become combined to produce more elaborate and complex emotional experiences. These more elaborate emotions are called first-order elaborations in Turner's theory and they include sentiments such as pride, triumph, and awe. Emotions can also be experienced at different levels of intensity so that feelings of concern are a low-intensity variation of the primary emotion aversion-fear whereas depression is a higher intensity variant.", 'Work is undertaken from an early age by vast numbers of children in the world and may have a natural place in growing up. Work can contribute to the well-being of children in a variety of ways; children often choose to work to improve their lives, both in the short- and long-term. At the material level, children’s work often contributes to producing food or earning income that benefits themselves and their families; and such income is especially important when the families are poor. Work can provide an escape from debilitating poverty, sometimes by allowing a young person to move away from an impoverished environment. Young people often enjoy their work, especially paid work, or when work involves the company of peers. Even when work is intensive and enforced, children often find ways to combine their work with play.', "Many different disciplines have produced work on the emotions. Human sciences study the role of emotions in mental processes, disorders, and neural mechanisms. In psychiatry, emotions are examined as part of the discipline's study and treatment of mental disorders in humans. Nursing studies emotions as part of its approach to the provision of holistic health care to humans. Psychology examines emotions from a scientific perspective by treating them as mental processes and behavior and they explore the underlying physiological and neurological processes. In neuroscience sub-fields such as social neuroscience and affective neuroscience, scientists study the neural mechanisms of emotion by combining neuroscience with the psychological study of personality, emotion, and mood. In linguistics, the expression of emotion may change to the meaning of sounds. In education, the role of emotions in relation to learning is examined.", "Based on discoveries made through neural mapping of the limbic system, the neurobiological explanation of human emotion is that emotion is a pleasant or unpleasant mental state organized in the limbic system of the mammalian brain. If distinguished from reactive responses of reptiles, emotions would then be mammalian elaborations of general vertebrate arousal patterns, in which neurochemicals (for example, dopamine, noradrenaline, and serotonin) step-up or step-down the brain's activity level, as visible in body movements, gestures and postures. Emotions can likely be mediated by pheromones (see fear)."]
INFO:     127.0.0.1:53980 - "GET /query?question=how%20can%20i%20be%20happy HTTP/1.1" 200 OK
